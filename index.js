// Generated by CoffeeScript 1.6.3
(function() {
  var $, AES, App, Backbone;

  $ = require("jquery");

  Backbone = require("backbone");

  AES = require("Gibberish-AES");

  App = Backbone.View.extend({
    el: ".app",
    events: {
      "click .pick button": "pick"
    },
    initialize: function() {
      return this.picker = new google.picker.PickerBuilder().addView(google.picker.ViewId.DOCS).setCallback(this.pickerCb).build();
    },
    pick: function(e) {
      return this.picker.setVisible(true);
    },
    pickerCb: function(data) {
      var doc;
      switch (data[google.picker.Response.ACTION]) {
        case google.picker.Action.PICKED:
          doc = data[google.picker.Response.DOCUMENTS][0];
          return console.log(doc);
      }
    },
    enc: function(data, password) {
      return AES.enc(JSON.stringify(data), password);
    }
  });

  window.start = function() {
    var app;
    return app = new App();
  };

  google.load("picker", "1", {
    callback: "start"
  });

}).call(this);
